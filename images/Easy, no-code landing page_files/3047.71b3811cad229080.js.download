"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3047],{83047:function(n,e,i){i.r(e),i.d(e,{default:function(){return I}});var l=i(76341),a=i(67462),r=i(32207),o=i(93128),t=i(85893),s=i(74293),u=i(38322),c=i(67294),d=i(13099),p=i(96450),g=i(11163),h=i(84770),v=i(22177),y=i(67906),P=i(15848),m=i(52957),f=i(85001),_=i(89603),w=i(21036),k=i(90929),L=i(11042),b=i(20773),D=i.n(b),C=i(39193),S=D()(function(n){var e=n.monthly,i=e.length-1;return Number(e[i].responses)/1e3}),N=function(n,e){var i,l=n[e],a=l.currency,r=l.total,o=e===m.t.Yearly?Math.round(i=r/12)===i?i:i.toFixed(1):r;return"".concat(o," ").concat(a)},U=function(n,e,i){var l=n.limit_value,a=n.responsesAddonsPricing,r=n.discounted_price_per_step,o=n.step_value,t=n.translationKey,s="".concat("pricing-page.features.").concat(t),u={limit_value:(0,C.K$)(l,i)};return a&&(u.maxResponses=S(a)),r&&(u.price=N(r,e)),o&&(u.step_value=o),("members-seats"===t||"member-seats-count"===t)&&(s="number"==typeof l&&l>1?"".concat(s,".plural"):"".concat(s,".singular")),{i18nKey:s,i18nVariables:u}},E=function(n,e,i){var r=U(n,m.t.Yearly,i),o=r.i18nKey,t=r.i18nVariables;return(0,a._)((0,l._)({},n),{title:e(o,t)})},x=function(n,e,i,r,o,t,s){var c,d,p,g,h=i.isLoggedIn,v=i.signUpUrl,y=i.sharedPlanDetailsLink,P=i.existingQueryParams;return(0,a._)((0,l._)({},n),{title:r(n.titleTranslationKey),overview:r(n.overviewTranslationKey),features:null!==(p=null==n?void 0:null===(d=n.features)||void 0===d?void 0:null===(c=d.map)||void 0===c?void 0:c.call(d,function(n){return E(n,r,s)}))&&void 0!==p?p:[],mainFeatures:null!==(g=(0,_._L)(n,r,s))&&void 0!==g?g:[],checkoutLink:{yearly:{label:(0,_.o2)(n,r),href:(0,w.L)((0,k.zo)({user:h,billingPeriod:m.t.Yearly,planName:n.planName,signupBaseUrl:v}),P),onClick:function(){t(n.planName)}},monthly:{label:(0,_.o2)(n,r),href:(0,w.L)((0,k.zo)({user:h,billingPeriod:m.t.Monthly,planName:n.planName,signupBaseUrl:v}),P),onClick:function(){t(n.planName)}}},planDetailsLink:y,monthlyPrice:(null==n?void 0:n.pricing)&&{yearly:(0,L.o2)(n.pricing,m.t.Yearly),monthly:(0,L.o2)(n.pricing,m.t.Monthly),yearlySaving:n.yearlySaving},activeDiscounts:{monthly:(0,L.eZ)(e[m.t.Monthly],n),yearly:(0,L.eZ)(e[m.t.Yearly],n)},decorativeImageSrc:u.SP.includes(n.planName)?"".concat(f.PUBLIC_ASSETS_BASE_URL,"/public/main-site/enterprise-bell.webp"):void 0,currency:(0,L.E8)(n.pricing)})},B=function(n){var e,i,l,a,r,o=n.pricingPlans,t=n.discounts,s=n.showEnterprisePlan,c=n.isLoggedIn,d=n.signUpUrl,p=n.existingQueryParams,g=n.sharedPlanDetailsLink,h=n.handleUpgradeCTAClick,y=n.t,P=n.lang,f={monthly:null==t?void 0:null===(e=t.monthly)||void 0===e?void 0:e.map(function(n){return(0,L.DJ)(n,y)}),yearly:null==t?void 0:null===(i=t.yearly)||void 0===i?void 0:i.map(function(n){return(0,L.DJ)(n,y)})},_=null==o?void 0:null===(l=o.filter)||void 0===l?void 0:l.call(o,function(n){var e=n.planName,i=n.listed;return e!==u.dh.free&&!u.SP.includes(e)&&!1!==i}),w=o.find(function(n){return u.SP.includes(n.planName)});s&&w&&_.push(w);var k=(0,v.H)(o),b=null==_?void 0:null===(a=_.map)||void 0===a?void 0:a.call(_,function(n){return x(n,f,{sharedPlanDetailsLink:g,isLoggedIn:c,signUpUrl:d,existingQueryParams:p},y,k,h,P)}),D=null!==(r=null==t?void 0:t[m.t.Yearly])&&void 0!==r?r:[];return{mappedPlans:b,yearlyDiscounts:(0,L.xb)(D)}},I=function(n){var e=n.context,i=n.headline,m=n.growthPlansHeadline,f=n.sharedPlanDetailsLink,_=n.showBillingPeriodToggle,w=n.showPlanDetailsLink,k=n.showDiscountsList,L=n.showCheckoutLink,b=n.showEnterprisePlan,D=void 0===b||b,C=n.showPlanSelector,S=void 0!==C&&C,N=n.selectedPlans,U=void 0===N?P.b.Core:N,E=(0,r._)(n,["context","headline","growthPlansHeadline","sharedPlanDetailsLink","showBillingPeriodToggle","showPlanDetailsLink","showDiscountsList","showCheckoutLink","showEnterprisePlan","showPlanSelector","selectedPlans"]),x=e.pricingPlans,I=e.growthPricingPlans,M=e.discounts,T=(0,p.Z)(s.NAMESPACES.PRICING),A=T.t,H=T.lang,K=(0,h.bp)().user,Y=(0,g.useRouter)(),Q=(0,o._)((0,c.useState)(S&&U?U:P.b.Core),2),R=Q[0],V=Q[1],Z=(0,c.useMemo)(function(){return R===P.b.Growth&&I?I:x},[R,x,I]),z=A("common.cta.signup.url"),G=(0,c.useCallback)(function(n){if((0,y.ii)({name:"pricing_plans_upgrade_click_".concat(n)}),n===u.dh.enterprise){(0,y.MI)({pricingVersion:(0,v.H)(Z),location:"sales_banner:select_plan"});return}(0,y.Qz)({plan:n,location:"body:select_plan",pricingVersion:(0,v.H)(Z)})},[Z]),F=(0,c.useMemo)(function(){return Z?B({pricingPlans:Z,discounts:M,showEnterprisePlan:D,isLoggedIn:!!K,signUpUrl:z,existingQueryParams:Y.query,sharedPlanDetailsLink:f,handleUpgradeCTAClick:G,t:A,lang:H}):{mappedPlans:null,yearlyDiscounts:null}},[Z,D,M,f,K,z,Y,G,A,H]),J=F.mappedPlans,j=F.yearlyDiscounts;return J?(0,t.jsx)(d.Z,(0,a._)((0,l._)({},E),{showPlanSelector:S,planSet:R,onPlanSetChange:V,showBillingPeriodToggle:void 0===_||_,showPlanDetailsLink:void 0===w||w,showDiscountsList:void 0===k||k,showCheckoutLink:void 0===L||L,plans:J,headlineModule:R===P.b.Growth&&m?m:i,yearlyDiscounts:j,onBillingPeriodChange:function(n){(0,y.rB)({period:n,location:"body:select_plan",pricing_version:(0,v.H)(Z)})}})):null}}}]);
//# sourceMappingURL=3047.71b3811cad229080.js.map