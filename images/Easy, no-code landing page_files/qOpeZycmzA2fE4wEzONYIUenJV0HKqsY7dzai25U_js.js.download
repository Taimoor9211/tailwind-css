const lunioDeploymentEnv="prod",lunioHostname=`${lunioDeploymentEnv}.mplat-ppcprotect.com`;var LunioClientData=class{constructor(){this.url=window.location.href,this.token="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhY2NvdW50X2lkIjoxNTY4Nn0.ar_qOpeZycmzA2fE4wEzONYIUenJV0HKqsY7dzai25U"}get_adclick_data(){return{href:this.url,token:this.token}}get_click_data(){return{href:this.url,token:this.token,client_id:0}}};const lunio_is_ad_click=e=>{const a=["gclid=","utm_source=","wbraid=","gbraid=","gclsrc=","csrf=","ppcp_platform=","dclid=","fbclid=","twclid=","li_fat_id=","epik=","msclkid=","rdt_cid=","ttclid=","ob_click_id=","NaPm=","bd_vid=","yclid=","criteo="];let t=e.toLowerCase();for(const c of a)if(t.search(c)!==-1)return t.search("ppcp_platform=organic")===-1;return!1},lunio_is_ad_click_v2=e=>{const a="*",t=["cpc","ppc","paid","cpm","display","pmax"],c=[{name:"google",ppcp_platform:"google",utm_source:["google"],utm_medium:t,special:[["gclid",a]]},{name:"meta",ppcp_platform:"meta",utm_source:["facebook","fb","meta","ig","instagram"],utm_medium:t,special:[]},{name:"twitter",ppcp_platform:"twitter",utm_source:["twitter"],utm_medium:t,special:[["twclid",a]]},{name:"pinterest",ppcp_platform:"pinterest",utm_source:["pinterest"],utm_medium:t,special:[]},{name:"linkedin",ppcp_platform:"linkedin",utm_source:["linkedin"],utm_medium:t,special:[]},{name:"outbrain",ppcp_platform:"outbrain",utm_source:["outbrain"],utm_medium:[a],special:[["ob_click_id",a]]},{name:"youtube",ppcp_platform:"youtube",utm_source:["youtube"],utm_medium:t,special:[["gclid",a]]},{name:"tiktok",ppcp_platform:"tiktok",utm_source:["tiktok","tt"],utm_medium:t,special:[]},{name:"baidu",ppcp_platform:"baidu",utm_source:["baidu"],utm_medium:t,special:[]},{name:"reddit",ppcp_platform:"reddit",utm_source:["reddit"],utm_medium:t,special:[]},{name:"adroll",ppcp_platform:"adroll",utm_source:["adroll"],utm_medium:t,special:[]},{name:"naver",ppcp_platform:"naver",utm_source:["naver"],utm_medium:t,special:[]},{name:"bing",ppcp_platform:"bing",utm_source:["bing","ms","microsoft"],utm_medium:t,special:[["msclkid",a]]},{name:"yahoo_japan",ppcp_platform:"yj",utm_source:["yj","yahoo"],utm_medium:t,special:[]},{name:"dv360",ppcp_platform:"dv360",utm_source:["dv","dv360"],utm_medium:[a],special:[["dclid",a]]},{name:"taboola",ppcp_platform:"taboola",utm_source:["taboola"],utm_medium:[a],special:[]}];let i=new URLSearchParams(e.toLowerCase()),m=!1,r=!1,o="";for(const l of c){if(i.get("ppcp_platform")===l.ppcp_platform){r=!0,o=l.name;break}for(const[n,u]of l.special)if(u===a&&i.has(n)||i.get(n)===u){m=!0,o=l.name;break}}if(r||m)return[!0,o];if(i.has("utm_source")&&i.has("utm_medium")){let l=!1,n=i.get("utm_source"),u=i.get("utm_medium");for(const s of c){let d=!1,_=!1;for(const p of s.utm_source)if(p===a||n.indexOf(p)>=0){d=!0;break}for(const p of s.utm_medium)if(p===a||u.indexOf(p)>=0){_=!0;break}if(d&&_){l=!0,o=s.name;break}}if(l)return[!0,o]}return[!1,o]},lunio_pn="lpn",lunio_pn_plat="plat";function js_cloud_adclick(e,a){let[t,c]=a;const i=`https://pclick.${lunioHostname}/recv`,m=`?${lunio_pn}=${t?"p":"n"}&${lunio_pn_plat}=${c}&data=`+e,r=performance.now();fetch(i+m,{}).then(o=>o.json()).then(o=>{if(o.flag==="set")var l=""}).catch(o=>{})}function js_cloud_click(e,a){let[t,c]=a;const i=`https://click.${lunioHostname}/v2/recv`,m=`?${lunio_pn}=${t?"p":"n"}&${lunio_pn_plat}=${c}&data=`+e;fetch(i+m,{}).then(r=>r.json()).then(r=>{}).catch(r=>{})}function Base64EncodeUrl(e){return e=btoa(e),e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function lunioMainV1(){var e=e||null;e?e.url=window.location.href:e=new LunioClientData;let a=lunio_is_ad_click(e.url),t=["",""];try{t=lunio_is_ad_click_v2(window.location.search)}catch{t=[!1,"err"]}if(a){let c={};c.client_data=e.get_adclick_data(),js_cloud_adclick(Base64EncodeUrl(JSON.stringify(c)),t)}else js_cloud_click(encodeURIComponent(JSON.stringify(e.get_click_data())),t);return 0}lunioMainV1();
